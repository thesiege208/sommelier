<!DOCTYPE html>
<html lang="en">
<html ng-app="recipeAssistant">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>SOMMELIER</title>

        <!-- Bootstrap -->
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
        <link href="css/index.css" rel="stylesheet">
        <link rel="stylesheet" type="text/css" href="css/results.css">
        <link href="https://fonts.googleapis.com/css?family=Gruppo" rel="stylesheet">

        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

        <script type="text/javascript">
            $(function () {
                var $landing = $("#landing"),
                    $actual  = $("#actual");
                $landing.on("click", function (){                
                    $(this).addClass("clicked");
                })
             });

            $(document).ready(function(){
                var list = document.getElementById('cart');
                list.setAttribute('data-toggle', 'modal');
                list.setAttribute('data-target', '#listModal');

                $.get("https://kzhe8vy1yd.execute-api.us-east-1.amazonaws.com/prod/TaskWS?TableName=WineFoodShopping", function(data){
                    var db = JSON.stringify(data);

                    var parse = JSON.parse(db);
                    var recipeList = parse.Items;

                    var sh_list = document.getElementById('sh_list');
                    for (i = 0; i < recipeList.length; i++) {

                        var label= document.createElement("label");
                        var item = document.createTextNode(" " + recipeList[i].Item);
                        var checkbox = document.createElement('input');
                        checkbox.setAttribute('type', 'checkbox');
                        label.appendChild(checkbox);
                        label.appendChild(item);
                        document.getElementById('sh_list').appendChild(label);
                        document.getElementById('sh_list').appendChild(document.createElement("br"));
                    }
                });

                var button = document.getElementById('button');
                button.setAttribute('data-toggle', 'modal');
                button.setAttribute('data-target', '#resModal');

                $('label').click(function() {
                    if ( $('.result-container').height() != 148) {
                        console.log($('.result-container').height());
                        $('.result-container').animate({ height: 150 }, 1000 );
                        $('#result-img-container').animate({ height: 150 }, 1000 );
                    } else {
                        console.log("hello");
                        $('.result-container').animate({ height: 225 }, 1000 );
                        $('#result-img-container').animate({ height: 224 }, 1000 );
                    }
                });
            });
        </script>
    </head>

    <body>
        <div class="site-wrapper">
            <div id="listModal" class="modal fade" role="dialog">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h3 class="modal-title">SHOPPING LIST</h3>
                        </div>
                        <div class="modal-body" id="sh_list_cont">
                            <div id="sh_list"></div>
                        </div>
                        <div class="modal-footer">
                            <button class="btn btn-outline-primary" data-dismiss="modal">CLOSE</button>
                        </div>
                    </div>
                </div>
            </div>

            <div id="resModal" class="modal fade" role="dialog">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h3 class="modal-title">Steak</h3>
                        </div>
                        <div class="modal-body" id="results_list">
                            <div class="result-container">
                                <div class="result-contents" id="result-img-container">
                                    <img id="result-img" src="http://biltmore.s3.amazonaws.com/1254/biltmoreestate-cabsauv.jpg"/>
                                </div>
                                <div class="result-contents" id="result-descrip-container">
                                <h4 id="result-descrip">Cabernet Sauvignon</h4>
                                <input id="toggle" type="checkbox" unchecked>
                                <label for="toggle"> Details</label>
                                <div id="expand">
                                    <p><a href="#">ADD TO CART</a></p>
                                    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Maecenas porta non turpis faucibus lobortis. Curabitur non eros rutrum, gravida felis non, luctus velit.</p>
                                </div>
                            </div>
                            </div>

                            <div class="result-container">
                                <div class="result-contents" id="result-img-container">
                                    <img id="result-img" src="http://www.line39wines.com/media/8169/L39_PinotNoir_NV-HR.png"/>
                                </div>
                                <div class="result-contents" id="result-descrip-container">
                                    <h4 id="result-descrip">Pinot Noir</h4>
                                    <input id="toggle" type="checkbox" unchecked>
                                    <label for="toggle"> Details</label>
                                    <div id="expand">
                                        <p><a href="#">ADD TO CART</a></p>
                                        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Maecenas porta non turpis faucibus lobortis. Curabitur non eros rutrum, gravida felis non, luctus velit.</p>
                                    </div>
                                </div>
                            </div>

                            <div class="result-container">
                                <div class="result-contents" id="result-img-container">
                                    <img id="result-img" src="http://ei.isnooth.com/multimedia/0/5/c/image_94965.jpeg"/>
                                </div>
                                <div class="result-contents" id="result-descrip-container">
                                    <h4 id="result-descrip">Chardonnay</h4>
                                    <input id="toggle" type="checkbox" unchecked>
                                    <label for="toggle"> Details</label>
                                    <div id="expand">
                                        <p><a href="#">ADD TO CART</a></p>
                                        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Maecenas porta non turpis faucibus lobortis. Curabitur non eros rutrum, gravida felis non, luctus velit.</p>
                                    </div>
                                </div>
                            </div>

                        </div>
                        <div class="modal-footer">
                            <button class="btn btn-outline-primary" data-dismiss="modal">CLOSE</button>
                        </div>
                    </div>
                </div>
            </div>

            <div class="container-fluid">
                <div id="actual">
                    <div id="navbar">
                        <span class="glyphicon glyphicon-shopping-cart" id="cart"></span>
                        <span class="glyphicon glyphicon-plus" id="add"></span>
                        <h2>SOMMELIER</h2>
                    </div>
                    <div class="row">
                        <div class="col-sm-2"></div>
                        <div class="col-sm-8">
                            <div  id="search" align="center">
                                <div class="input-group">
                                    <select name="choice" class="selectpicker form-control" data-live-search="true">
                                        <option value="food">food</option>
                                        <option value="wine">wine</option>
                                    </select>
                                    <input type="text" class="form-control" name="search" placeholder="searching..." id="bar">
                                    <span class="input-group-btn"><button class="btn btn-default" id="button" type="submit">SEARCH</button></span>
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-2"></div>
                    </div>
                </div>

                <div id="landing">
                    <div class="row" id="logo">
                        <div class="col-sm-2"></div>
                        <div class="col-sm-8" id="title">
                            <h1>SOM<br />
                                MEL<br />
                                IER
                            </h1>
                        </div>
                        <div class="col-sm-2"></div>
                    </div>
                </div>                

            </div>
        </div>
    </body>
</html>
